NEXT_PUBLIC_TEMPLATE_CLIENT_ID=a4fa6eecb26c4240684a903a92b38a67
NEXT_PUBLIC_MARKETPLACE_CONTRACT_ADDRESS=0x3E6e21fF8acb419458dd4E6D98647B45E00229f8
NEXT_PUBLIC_RPC_URL=https://mainnet.base.org
NEXT_PUBLIC_CHAIN_ID=8453
"use client";
import { useAccount, useConnect, useDisconnect, WagmiConfig, createConfig, http } from "wagmi";
import { injected } from "wagmi/connectors";
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";

const config = createConfig({
  connectors: [injected()],
  transports: {
    8453: http(process.env.NEXT_PUBLIC_RPC_URL!),
  },
});

const queryClient = new QueryClient();

export default function WalletConnect() {
  return (
    <WagmiConfig config={config}>
      <QueryClientProvider client={queryClient}>
        <WalletInner />
      </QueryClientProvider>
    </WagmiConfig>
  );
}

function WalletInner() {
  const { address, isConnected } = useAccount();
  const { connect } = useConnect({ connector: injected() });
  const { disconnect } = useDisconnect();

  return (
    <div>
      {isConnected ? (
        <div>
          <p>Connected: {address}</p>
          <button onClick={() => disconnect()}>Disconnect</button>
        </div>
      ) : (
        <button onClick={() => connect()}>Connect Wallet</button>
      )}
    </div>
  );
}